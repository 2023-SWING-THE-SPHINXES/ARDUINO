# 아두이노 - PIR 센서를 이용한 꿀벌의 개체수 측정

### 개요

적외선 모션 센서인 아두이노의 PIR 센서를 이용해서 꿀벌의 개체수를 측정하는 모듈이다. 벌통의 입구에 모듈을 여러 개 부착하여 꿀벌의 이동 방향을 인식하여 꿀벌의 개체수를 대략적으로 측정한다.

![3D modeling 작업을 한 모듈](/modeling.png)

3D 모델링 작업을 한 모듈로, 아두이노 나노 보드, PIR 센서 2개, 벌통 내부에 온습도 센서로 구성되어 있다.

### 작동 원리

벌통 벽을 기준으로 벌통 내부와 외부에 PIR 센서를 부착한다. 이때, PIR 센서의 인식 범위(110도 각도)를 고려하여 정확한 측정을 위해 벽을 설치하여 중복 측정이 되는 것을 방지한다.

꿀벌의 이동 방향을 결정하는 요소는 다음과 같다.

| 외부 센서 | 내부 센서 | 위치 |
| --------- | --------- | ---- |
| 1         | 0         | OUT  |
| 0         | 1         | IN   |

만약 (1, 0) -> (0, 1)로 변화했다면 밖에서 안으로 들어오는 방향이 되고, (0, 1) -> (1, 0)로 변화하면 안에서 밖으로 나가는 방향이 된다.

여러 개의 모듈을 입구에 가로로 배치하여 측정한다.

### 실행 결과

![아두이노 실행 결과](/arduino_result.png)

온도, 습도, 현재 위치, 이동 방향을 나타낸 데이터이다. 이동이 감지되지 않아 방향을 확인할 수 없는 상태는 Unknown으로 처리된다.

### 개선 방향

현재 구현된 모듈은 초기 모델로, 후에 사용성을 개선하기 위해 납작한 적외선 감지 센서로 교체하고, 센서가 인식한 결과가 전달되는 시간적 딜레이를 줄인다.
